# メニューナビゲーション設計書

## 概要

メニューナビゲーションは、アプリケーション内のすべての機能への素早いアクセスをユーザーに提供し、アイコンとテキストを組み合わせたデザインでリストスタイルのレイアウトを使用します。

## メニュー構造

### ページタイトル
- 「メニュー」
- 左上に戻るボタン

### ユーザー情報エリア
- ユーザー名表示：きたやましおり
- ポイント表示：0pt

### APIインターフェース

#### ユーザープロフィール取得
```
GET /api/v1/user/profile
```
**レスポンス:**
```json
{
  "user_id": "user123",
  "name": "きたやましおり",
  "points": 0,
  "member_since": "2024-01-15",
  "avatar_url": "https://api.example.com/avatars/user123.jpg"
}
```

### 機能メニューリスト

#### 1. マイページ
- **アイコン**：人物シルエットアイコン
- **機能**：個人情報管理、アカウント設定
- **位置**：第1項目

#### 2. アカウント情報の設定
- **アイコン**：歯車アイコン
- **機能**：アカウント関連設定の変更
- **位置**：第2項目

#### 3. 利用内容
- **アイコン**：ドキュメントアイコン
- **機能**：過去の充電記録を表示
- **位置**：第3項目

### APIインターフェース

#### 利用履歴取得
```
GET /api/v1/user/usage-history
```
**クエリパラメータ:**
- `page`: 1
- `limit`: 20
- `start_date`: "2024-01-01"
- `end_date`: "2024-02-15"

**レスポンス:**
```json
{
  "total_records": 45,
  "page": 1,
  "records": [
    {
      "id": "usage_001",
      "date": "2024-02-15",
      "station_name": "きたやま関電施設",
      "duration_minutes": 45,
      "energy_kwh": 25.5,
      "cost": 1530,
      "payment_method": "credit_card"
    }
  ]
}
```

#### 4. クーポン
- **アイコン**：タグアイコン
- **機能**：クーポンの表示と使用
- **位置**：第4項目

#### クーポン一覧取得
```
GET /api/v1/user/coupons
```
**レスポンス:**
```json
{
  "coupons": [
    {
      "id": "coupon_001",
      "title": "新規ユーザー割引",
      "discount_type": "percentage",
      "discount_value": 20,
      "min_amount": 1000,
      "valid_until": "2024-03-31",
      "status": "active"
    }
  ]
}
```

#### 5. 支払い方法
- **アイコン**：クレジットカードアイコン
- **機能**：支払い方法の管理
- **位置**：第5項目

#### 支払い方法取得
```
GET /api/v1/user/payment-methods
```
**レスポンス:**
```json
{
  "payment_methods": [
    {
      "id": "pm_001",
      "type": "credit_card",
      "brand": "VISA",
      "last4": "1234",
      "exp_month": 12,
      "exp_year": 2025,
      "is_default": true
    }
  ]
}
```

#### 6. 施設コードを登録
- **アイコン**：歯車アイコン
- **機能**：特定の施設コードを追加
- **位置**：第6項目

#### 7. はじめてガイド
- **アイコン**：盾アイコン
- **機能**：アプリケーション使用チュートリアル
- **位置**：第7項目

#### 8. FAQ
- **アイコン**：タグアイコン
- **機能**：よくある質問
- **位置**：第8項目

#### 9. お問い合わせ
- **アイコン**：歯車アイコン
- **機能**：カスタマーサポート
- **位置**：第9項目

## デザイン仕様

### ビジュアルデザイン
- **背景色**：ホワイト（#FFFFFF）
- **区切り線**：ライトグレー（#E0E0E0）
- **テキストカラー**：
  - タイトル：ダークグレー（#333333）
  - メニュー項目：ダークグレー（#333333）
  - ユーザー名：ブラック（#000000）

### アイコン仕様
- **スタイル**：線形アイコン
- **カラー**：ダークグレー（#666666）
- **サイズ**：24dp x 24dp
- **配置**：左揃え、テキストとの一貫した間隔

### レイアウト仕様
- **メニュー項目の高さ**：56dp
- **左右マージン**：16dp
- **アイコンとテキストの間隔**：16dp
- **区切り線**：各メニュー項目の間

### インタラクションデザイン
- **クリックフィードバック**：タップ時の波紋効果
- **ナビゲーションアニメーション**：右からスライドイン、左へスライドバック
- **矢印インジケーター**：各メニュー項目の右側に「>」矢印

## ユーザーエクスペリエンス最適化

### 情報アーキテクチャ
1. よく使う機能を上部に配置（マイページ、アカウント設定）
2. 関連機能をグループ化（支払い関連、ヘルプ関連）
3. 明確な機能名

### アクセシビリティ
- 十分なタップエリア（最小44dp）
- 明確な視覚的階層
- 理解を助けるアイコン

### ナビゲーション効率
- メインメニューから直接アクセス
- 目立つ戻るボタン
- 明確な機能分類

## 技術実装

### メニュー項目構造
```
- アイコン（24dp）｜テキストラベル｜矢印（>）
- 区切り線
```

### タッチターゲット
- 最小高さ：48dp
- 全幅クリック可能エリア
- タッチ時の視覚的フィードバック

### パフォーマンス
- メニューコンテンツの遅延読み込み
- 長いリストのスムーズなスクロール
- 即座のナビゲーション応答

### その他のAPIインターフェース

#### メニュー設定取得
```
GET /api/v1/menu/config
```
**レスポンス:**
```json
{
  "menu_items": [
    {
      "id": "my_page",
      "title": "マイページ",
      "icon": "person",
      "route": "/my-page",
      "enabled": true
    },
    {
      "id": "account_settings",
      "title": "アカウント情報の設定",
      "icon": "settings",
      "route": "/account-settings",
      "enabled": true
    }
  ],
  "version": "1.0.0"
}
```

#### 施設コード登録
```
POST /api/v1/facility/register-code
```
**リクエスト:**
```json
{
  "facility_code": "FAC123456",
  "user_id": "user123"
}
```
**レスポンス:**
```json
{
  "success": true,
  "facility": {
    "code": "FAC123456",
    "name": "特別充電施設",
    "benefits": ["優先予約", "割引特典"]
  }
}
```