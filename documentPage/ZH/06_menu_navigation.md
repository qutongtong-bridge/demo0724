# 菜单导航设计文档

## 概述

菜单导航为用户提供应用内所有功能的快速访问入口，采用列表式布局，图标和文字结合的设计方式。

## 菜单结构

### 页面标题
- "菜单"
- 左上角返回按钮

### 用户信息区
- 用户名显示：北山志织
- 积分显示：0pt

### API接口

#### 获取用户信息
```
GET /api/v1/user/profile
```
**响应:**
```json
{
  "user_id": "user123",
  "name": "北山志织",
  "points": 0,
  "member_since": "2024-01-15",
  "avatar_url": "https://api.example.com/avatars/user123.jpg"
}
```

### 功能菜单列表

#### 1. 我的页面
- **图标**：人物轮廓图标
- **功能**：个人信息管理、账户设置
- **位置**：第一项

#### 2. 账户信息设置
- **图标**：齿轮图标
- **功能**：修改账户相关设置
- **位置**：第二项

#### 3. 使用记录
- **图标**：文档图标
- **功能**：查看历史充电记录
- **位置**：第三项

### API接口

#### 获取使用记录
```
GET /api/v1/user/usage-history
```
**查询参数:**
- `page`: 1
- `limit`: 20
- `start_date`: "2024-01-01"
- `end_date`: "2024-02-15"

**响应:**
```json
{
  "total_records": 45,
  "page": 1,
  "records": [
    {
      "id": "usage_001",
      "date": "2024-02-15",
      "station_name": "北山关电设施",
      "duration_minutes": 45,
      "energy_kwh": 25.5,
      "cost": 1530,
      "payment_method": "credit_card"
    }
  ]
}
```

#### 4. 优惠券
- **图标**：标签图标
- **功能**：查看和使用优惠券
- **位置**：第四项

#### 获取优惠券列表
```
GET /api/v1/user/coupons
```
**响应:**
```json
{
  "coupons": [
    {
      "id": "coupon_001",
      "title": "新用户优惠",
      "discount_type": "percentage",
      "discount_value": 20,
      "min_amount": 1000,
      "valid_until": "2024-03-31",
      "status": "active"
    }
  ]
}
```

#### 5. 支付方式
- **图标**：信用卡图标
- **功能**：管理支付方式
- **位置**：第五项

#### 获取支付方式
```
GET /api/v1/user/payment-methods
```
**响应:**
```json
{
  "payment_methods": [
    {
      "id": "pm_001",
      "type": "credit_card",
      "brand": "VISA",
      "last4": "1234",
      "exp_month": 12,
      "exp_year": 2025,
      "is_default": true
    }
  ]
}
```

#### 6. 注册设施代码
- **图标**：齿轮图标
- **功能**：添加特定设施代码
- **位置**：第六项

#### 7. 新手指南
- **图标**：盾牌图标
- **功能**：应用使用教程
- **位置**：第七项

#### 8. 常见问题
- **图标**：标签图标
- **功能**：常见问题解答
- **位置**：第八项

#### 9. 联系我们
- **图标**：齿轮图标
- **功能**：客服支持
- **位置**：第九项

## 设计规范

### 视觉设计
- **背景色**：白色（#FFFFFF）
- **分割线**：浅灰色（#E0E0E0）
- **文字颜色**：
  - 标题：深灰色（#333333）
  - 菜单项：深灰色（#333333）
  - 用户名：黑色（#000000）

### 图标规范
- **风格**：线性图标
- **颜色**：深灰色（#666666）
- **尺寸**：24dp x 24dp
- **对齐**：左对齐，与文字保持一致间距

### 布局规范
- **菜单项高度**：56dp
- **左右边距**：16dp
- **图标与文字间距**：16dp
- **分割线**：每个菜单项之间

### 交互设计
- **点击反馈**：点击时显示波纹效果
- **导航动画**：右滑进入，左滑返回
- **箭头指示**：每个菜单项右侧显示">"箭头

## 用户体验优化

### 信息架构
1. 常用功能置顶（我的页面、账户设置）
2. 相关功能分组（支付相关、帮助相关）
3. 清晰的功能命名

### 可访问性
- 足够的点击区域（最小44dp）
- 清晰的视觉层级
- 图标辅助理解

### 导航效率
- 一级菜单直达
- 返回按钮明显
- 功能分类清晰

## 技术实现

### 菜单项结构
```
- 图标（24dp）｜文字标签｜箭头（>）
- 分割线
```

### 触摸目标
- 最小高度：48dp
- 全宽可点击区域
- 触摸时的视觉反馈

### 性能优化
- 菜单内容延迟加载
- 长列表平滑滚动
- 即时导航响应

### 其他API接口

#### 获取菜单配置
```
GET /api/v1/menu/config
```
**响应:**
```json
{
  "menu_items": [
    {
      "id": "my_page",
      "title": "我的页面",
      "icon": "person",
      "route": "/my-page",
      "enabled": true
    },
    {
      "id": "account_settings",
      "title": "账户信息设置",
      "icon": "settings",
      "route": "/account-settings",
      "enabled": true
    }
  ],
  "version": "1.0.0"
}
```

#### 注册设施代码
```
POST /api/v1/facility/register-code
```
**请求:**
```json
{
  "facility_code": "FAC123456",
  "user_id": "user123"
}
```
**响应:**
```json
{
  "success": true,
  "facility": {
    "code": "FAC123456",
    "name": "特殊充电设施",
    "benefits": ["优先预约", "折扣优惠"]
  }
}
```